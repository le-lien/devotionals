<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>My Devotional Journal</title>
  <meta
    name="description"
    content="A personal devotional journal with multiple sources, notes, and inline comments."
  />
  <link rel="stylesheet" href="styles.css" />
</head>


<body>

  <!-- Dictionary popup (INSIDE body) -->
  <div id="dictPopup" class="dict-popup" hidden>
    <div id="dictPopupWord" class="dict-popup-word"></div>
    <div id="dictPopupBody" class="dict-popup-body"></div>
  </div>


  <header class="journal-header">
    <div class="container header-container">
      <div class="top-row">
        <div class="brand-and-date">
          <a class="logo" href="index.html">My Devotional Journal</a>

          <div class="date-nav">
            <button id="prevDayBtn" type="button" class="date-step-btn" aria-label="Previous day">‚Äπ</button>

            <label class="date-picker-label">
              <span class="date-picker-title">Date</span>
              <div class="date-picker-control">
                <input type="date" id="datePicker" />
                <span class="date-picker-icon" aria-hidden="true"></span>
              </div>
            </label>

            <button id="nextDayBtn" type="button" class="date-step-btn" aria-label="Next day">‚Ä∫</button>
          </div>
        </div>

        <nav class="site-nav-links">
          <a href="about.html">About the devotionals</a>
          <a href="contact.html">Contact</a>
        </nav>
      </div>

      <hr class="date-title-separator" />

      <nav class="source-tabs" id="sourceTabs">
        <!-- Tabs rendered by script.js -->
      </nav>
    </div>
  </header>

  <main class="journal-main container">
    <!-- READER -->
    <section class="reader">
      <div class="reader-header-row">
        <div class="reader-heading">
          <!-- ONLY ONE title/meta/date block -->
          <h1 id="contentTitle">Choose a devotional</h1>
         
          <div id="contentNote" class="title-note"> </div>
      <hr class="body-note-separator" />

          <p id="contentMeta" class="meta-line">
            Select a devotional source above to start reading.
          </p>
          <p id="contentDate" class="date-line"></p>
        </div>
        
        <button id="highlightToggle" class="highlight-toggle" type="button" hidden>
          ‚òÜ Highlight reading
        </button>
        </div>
        
        
          <div id="dailyVerseBox" class="daily-verse" hidden>
            <div id="dailyVerseRef" class="daily-verse-ref"></div>
            <div id="dailyVerseText" class="daily-verse-text"></div>
          </div>

      <article id="contentBody" class="reader-body">
        <p>Use the tabs at the top to switch between different devotional sources.</p>
      </article>

      <div id="dailyPrayerBox" class="daily-prayer" hidden>
        <div id="dailyPrayerTitle" class="daily-prayer-title">Prayer</div>
        <div id="dailyPrayerText" class="daily-prayer-text"></div>
      </div>

      <hr class="body-note-separator" />

      <div id="contentRef" class="reference-line"></div>
    </section>

    <!-- NOTES + COMMENTS -->
    <section class="notes">
      
    <section id="annotationsSection" class="annotations">
    <div class="annotations-header">
    <h1>Comments</h1>

    </button>
    </div>
    
  
    <p class="annotations-help">
      Select some text in the reading above, then click
      <strong>‚ÄúAdd comment‚Äù</strong> to attach a note. Click üî¥ to start or ‚èπ to stop recording a voice memo. Click "Save comment" to save your (voice) note.
    </p>
          <div class="annotations-header">

      <button id="addCommentFromSelectionBtn" type="button" class="add-comment-btn">
        Add comment
      </button>
      
      
      <!-- Voice memo controls -->
<div class="voice-memo-controls">
  <button id="startVoiceBtn" type="button" class="voice-btn">
    üî¥
  </button>
  <button id="stopVoiceBtn" type="button" class="voice-btn" disabled>
    ‚èπ
  </button>
  <span id="voiceStatus" class="voice-status"></span>
</div>

<audio id="voicePreview" class="voice-preview" controls hidden></audio>
      </div>

    <div id="annotationForm" class="annotation-form" hidden>
      <div class="annotation-form-label"><strong>New comment on:</strong></div>
      <div id="annotationSelectedText" class="annotation-form-selected"></div>

      <textarea
        id="annotationCommentInput"
        rows="3"
        class="annotation-form-textarea"
        placeholder="Write your comment about this highlighted text..."
      ></textarea>



      <div class="notes-actions">
        <button id="annotationSaveBtn" type="button" class="annotation-save-btn">
          Save comment
        </button>
        <button id="annotationCancelBtn" type="button" class="annotation-cancel-btn">
          Cancel
        </button>
      </div>
    </div>

    <ul id="annotationsList" class="annotations-list"></ul>
  </section>
    <hr class="notes-comments-separator" />

      <h2>My General Notes</h2>
      <textarea
        id="notesArea"
        rows="8"
        placeholder="Write your prayer, reflections, or questions here..."
      ></textarea>
          <hr class="notes-comments-separator" />

      <p class="notes-hint">
        Notes, inline comments, and highlights are stored in this browser. You can also export/import them as JSON.
      </p>

      <div class="notes-actions">
        <button id="exportBtn" type="button">Export all notes & comments</button>

        <label class="import-label">
          Import from file
          <input type="file" id="importInput" accept="application/json" hidden />
        </label>
      </div>
      

    </section>
    
  </main>

  <footer class="site-footer">
    <div class="container">
      <p>¬© <span id="year"></span> My Devotional Journal.</p>
    </div>
  </footer>

  <script src="data.js"></script>
  <script src="script.js"></script>
</body>
</html>